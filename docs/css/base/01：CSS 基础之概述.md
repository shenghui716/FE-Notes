# CSS 基础之概述

CSS 指层叠样式表 (Cascading Style Sheets)，是一种用来表现 HTML 文档样式的语言，样式定义如何显示 HTML 元素，是能够真正做到==网页表现与结构分离==的一种样式设计语言。样式通常存储在样式表中，外部样式表通常存储在 CSS 文件中，多个样式定义可层叠为一。

## CSS 基本语法

* CSS 规则由两个主要的部分构成：选择器和声明。选择器就是需要改变样式的 HTML 元素，声明必须放在大括号 `{ }` 中，可以是一条或多条。
* 每条声明由一个属性和值组成，属性和值用冒号分隔，每条语句以分号 `;` 结尾。
* 为了让 CSS 可读性更强，一般每行只描述一个属性。
* CSS 注释是用来解释代码，并且可以随意编辑，浏览器会忽略它。CSS注释格式为 "`/* 注释内容 */`"。

```css
 p{
    color:red;
    text-indent:2em; /* 段落缩进2个字，即段落开头空2个汉字的位置。 */
}
```

## CSS 样式引用

当读到一个样式表时，浏览器会根据它来格式化 HTML 文档。CSS 引用样式表有三种方法：内联样式、内部样式、外部样式。

**1、内联样式**

内联样式也叫行内样式，即在相关标签内使用样式（style）属性定义。如下：

```html
<div style="width:200px;height:100px;border:1px solid black;"></div>
```

由于要将表现和内容混杂在一起，内联样式会损失掉样式表的许多优势。因此需要慎用这种方法，例如当样式仅需要在一个元素上应用一次时，可以使用内联样式。要使用内联样式，需要在相关的标签内使用样式属性定义，`style` 属性可以包含任何 CSS 属性。

**2、内部样式**

内部样式也叫内嵌样式，即在文档中创建内嵌的样式表，需要使用 `<style>` 标签在文档头部定义内部样式表，如下：

```html
<head>
<style>
    div{
        width:200px;
        height:100px;
        border:1px solid black;
    }
</style>
</head>
```

内部样式表只能在本页面重用，其他页面无法重用，效果有限。文档需要特殊的样式时，就应该使用内部样式表。

**3、外部样式**

外部样式也叫做外联样式，独立于任何网页，声明一个样式文件（*.css），在 css 文件中保存样式规则。所有页面都可以调用样式文件，真正提升了可重用性和可维护性。

使用 `<link>` 标签链接到外部样式表，如下：

```html
<head>
<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
```

当样式需要应用于很多页面时，外部样式表将是理想的选择。注意：`<link>` 标签中 `rel="stylesheet" type="text/css"` 是固定代码格式，不可更改。

注意：`link` 标签与 `@import` 有区别：

* **从属关系区别**：`@import` 是 CSS 提供的语法规则，只有导入样式表的作用；`link` 是 HTML 提供的标签，不仅可以加载 CSS 文件，还可以定义 RSS、rel 连接属性等。
* **加载顺序区别**：加载页面时，`link` 标签引入的 CSS 被同时加载；`@import` 引入的 CSS 将在页面加载完毕后被加载，所以有时候浏览 `@import` 加载 CSS 的页面时开始会没有样式（就是闪烁）。
* **兼容性区别**：`@import` 是 CSS2.1 才有的语法，故只有在 IE5 以上的浏览器才能识别；`link` 标签作为 HTML 元素，不存在兼容性问题。
* **DOM可控性区别**：可以通过 JS 操作 DOM ，插入 `link` 标签来改变样式；由于 DOM 方法是基于文档的，无法使用 `@import` 的方式插入样式。

## CSS 特性

### 继承性

CSS 继承是指子元素会继承父元素的所有样式风格，并可以在父元素样式风格的基础上再加以修改，产生新的样式，而子元素的样式完全不会影响父元素。

```html
<head>
<style>
    .father{
        color: #f00;
    }
</style>
</head>
<body>
    <div class="father">
        <p>hello world</p>
    </div>
</body>
```

如上代码中，并没有给 `<p>` 设置样式，但因为继承了父元素 `<div>` 的样式，所以 `hello world` 字体颜色为红色。

对于一些可以继承的属性，可以只设置父级元素的 CSS 样式，子级不用设置，会自动继承此 CSS 属性，可以减少 CSS 代码，便于维护。

### 层叠性

CSS 的全称为层叠样式表，顾名思义，CSS 中的样式可以叠加使用，HTML 文件中可以为一个元素定义多个样式规则，页面的最终效果为多个样式最终叠加的效果。

样式的叠加会造成样式之间的冲突，所以就存在优先级的问题。当有相同权重的样式存在时，会根据这些 CSS 样式的前后顺序来决定，距离元素最近的 CSS 样式会被应用（即就近原则）。

```html
<head>
<style>
    p{color:red;}
    p{color:green;} /* 更靠近元素，覆盖之前的样式 */
</style>
</head>
<body>
    <p>hello world</p>  <!-- p 中的文本会设置为green -->
</body>
```

### 优先级

样式优先级，也可以称为层叠次序，即同一个 HTML 元素不止被一个样式定义时，会优先使用哪个样式。每个选择器都有权值，浏览器是根据权值来判断使用哪种 CSS 样式的，样式规则的==累加权值==越大优先级越高。

* `!important` 优先级最高，js 也无法修改
* 内联样式的权值为 1000
* ID选择器的权值为 100
* 类、伪类选择器的权值为 10
* 元素、伪元素选择器的权值为 1
* 通用选择器的权值为 0
* 继承的样式没有权值
* 浏览器默认属性优先级最低

```css
p{color:red;} /* 权值为1 */
p span{color:green;} /* 权值为1+1=2 */
.warning{color:white;} /* 权值为10 */
p span.warning{color:purple;} /* 权值为1+1+10=12 */
#footer .note p{color:yellow;} /* 权值为100+10+1=111 */
```

在样式后面使用 `!important`，会覆盖页面内任何位置定义的元素样式。

注意：权值的计算不会超过其最大数量级（100个元素选择器加在一起，累加权值不会超过10）